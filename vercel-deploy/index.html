<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>English to SQL Converter</title>
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
            background: #0f1419;
            min-height: 100vh;
            padding: 40px 20px;
        }
        .container {
            background: #1a1f2e;
            border-radius: 12px;
            box-shadow: 0 2px 8px rgba(0,0,0,0.3);
            max-width: 700px;
            margin: 0 auto;
            padding: 40px;
        }
        h1 { color: #e2e8f0; margin-bottom: 8px; font-size: 1.8em; font-weight: 600; text-align: center; }
        .subtitle { text-align: center; color: #94a3b8; margin-bottom: 32px; font-size: 0.95em; }
        .input-group { margin-bottom: 24px; }
        label { display: block; margin-bottom: 8px; color: #cbd5e1; font-weight: 500; font-size: 0.9em; }
        input, textarea {
            width: 100%;
            padding: 12px 14px;
            border: 1px solid #2d3748;
            border-radius: 6px;
            font-size: 15px;
            font-family: inherit;
            background: #0f1419;
            color: #e2e8f0;
        }
        input:focus, textarea:focus { outline: none; border-color: #4299e1; background: #1a202c; }
        textarea { min-height: 100px; resize: vertical; }
        button {
            width: 100%;
            padding: 13px;
            background: #4299e1;
            color: white;
            border: none;
            border-radius: 6px;
            font-size: 15px;
            font-weight: 500;
            cursor: pointer;
        }
        button:hover { background: #3182ce; }
        .result { margin-top: 24px; padding: 16px; background: #0f1419; border: 1px solid #2d3748; border-radius: 6px; display: none; }
        .result.show { display: block; }
        .result h3 { color: #cbd5e1; margin-bottom: 10px; font-size: 0.95em; }
        .sql-output { background: #000000; color: #68d391; padding: 14px; border-radius: 6px; font-family: monospace; font-size: 13px; word-break: break-word; border: 1px solid #1a3a1a; }
        .examples { margin-top: 32px; padding: 20px; background: #0f1419; border-radius: 8px; border: 1px solid #2d3748; }
        .examples h3 { color: #cbd5e1; margin-bottom: 12px; font-size: 0.95em; }
        .example-item { margin: 8px 0; padding: 10px 12px; background: #1a1f2e; border-radius: 6px; cursor: pointer; border: 1px solid #2d3748; font-size: 0.9em; color: #94a3b8; }
        .example-item:hover { border-color: #4299e1; color: #e2e8f0; background: #262c3d; }
    </style>
</head>
<body>
    <div class="container">
        <h1>English to SQL Converter</h1>
        <p class="subtitle">Convert natural language questions to SQL queries</p>
        
        <div class="input-group">
            <label for="schema">Database Schema (optional)</label>
            <input type="text" id="schema" placeholder="CREATE TABLE employees (name TEXT, salary REAL)">
        </div>
        
        <div class="input-group">
            <label for="question">Your Question</label>
            <textarea id="question" placeholder="What are the names of employees earning more than 50000?"></textarea>
        </div>
        
        <button onclick="generateSQL()">Generate SQL</button>
        
        <div class="result" id="result">
            <h3>Generated SQL Query:</h3>
            <div class="sql-output" id="sql-output"></div>
        </div>
        
        <div class="examples">
            <h3>Example Queries</h3>
            <div class="example-item" onclick="setExample('employees', 'What are the names of all employees?')">What are the names of all employees?</div>
            <div class="example-item" onclick="setExample('products', 'Which products cost more than 100?')">Which products cost more than 100?</div>
            <div class="example-item" onclick="setExample('orders', 'What is the total amount of all orders?')">What is the total amount of all orders?</div>
        </div>
    </div>
    
    <script>
        function setExample(table, question) {
            const schemas = {
                'employees': 'CREATE TABLE employees (name TEXT, salary REAL)',
                'products': 'CREATE TABLE products (name TEXT, price REAL)',
                'orders': 'CREATE TABLE orders (id REAL, customer TEXT, amount REAL)'
            };
            document.getElementById('schema').value = schemas[table] || '';
            document.getElementById('question').value = question;
        }
        
        function generateSQL() {
            const schema = document.getElementById('schema').value.trim();
            const question = document.getElementById('question').value.trim();
            
            if (!question) { alert('Please enter a question!'); return; }
            
            const input = schema ? schema + ' ; Question: ' + question : question;
            const sql = generateSQLSimple(input);
            
            document.getElementById('sql-output').textContent = sql;
            document.getElementById('result').classList.add('show');
        }
        
        function generateSQLSimple(text) {
            const textLower = text.toLowerCase();
            let table = 'table';
            
            if (textLower.includes('create table')) {
                const match = text.match(/CREATE TABLE\s+(\w+)/i);
                if (match) table = match[1];
            }
            
            let question = textLower;
            if (textLower.includes('question:')) question = text.split(/question:/i)[1].trim().toLowerCase();
            
            if (/\b(all|list|show|what are)\b/.test(question)) {
                if (question.includes('name')) return 'SELECT name FROM ' + table + ';';
                return 'SELECT * FROM ' + table + ';';
            }
            if (/(count|how many)/.test(question)) return 'SELECT COUNT(*) FROM ' + table + ';';
            if (/(sum|total)/.test(question)) {
                if (question.includes('amount')) return 'SELECT SUM(amount) FROM ' + table + ';';
                if (question.includes('salary')) return 'SELECT SUM(salary) FROM ' + table + ';';
                return 'SELECT SUM(amount) FROM ' + table + ';';
            }
            if (/(more than|greater than|>)/.test(question)) {
                const match = question.match(/(\d+)/);
                const value = match ? match[1] : '100';
                if (question.includes('salary')) return 'SELECT * FROM ' + table + ' WHERE salary > ' + value + ';';
                if (question.includes('price')) return 'SELECT * FROM ' + table + ' WHERE price > ' + value + ';';
                return 'SELECT * FROM ' + table + ' WHERE value > ' + value + ';';
            }
            return 'SELECT * FROM ' + table + ';';
        }
    </script>
</body>
</html>
